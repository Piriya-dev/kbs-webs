RewriteEngine On
RewriteBase /

# --- 1. ROOT REDIRECT ---
# เข้าหน้าแรกให้ไป Login ทันที
RewriteRule ^$ motor_drive_room_login [R,L]

# --- 2. CLEAN URL MAPPING (ทำ Internal Rewrite ก่อน) ---
# จับคู่ Pretty URL เข้ากับไฟล์จริงใน Server
# ✅ ตรวจสอบว่าไฟล์อยู่ที่ pages/firepump/setting.php จริงหรือไม่
RewriteRule ^motor_drive_room_login$ pages/firepump/motor_drive_status_login.php [NC,L]
RewriteRule ^motor_drive_room_dashboard$ pages/firepump/motor_drive_status.php [NC,L]
RewriteRule ^motor_drive_room_settings$ pages/firepump/setting.php [NC,L]
RewriteRule ^motor_drive_room_report$ pages/firepump/station_report.php [NC,L]
RewriteRule ^motor_drive_room_logout$ pages/firepump/motor_drive_status_logout.php [NC,L]
RewriteRule ^it_server_room_status$ pages/firepump/it_server_room_status.php [NC,L]
RewriteRule ^report_fetch_data$ pages/firepump/report_fetch_data.php [NC,L]

# --- 3. EXTERNAL REDIRECT (ป้องกันคนเข้า .php ตรงๆ) ---
# ใช้ RewriteCond เช็ค THE_REQUEST เพื่อป้องกันการวนลูป (Looping)
RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/pages/firepump/setting\.php [NC]
RewriteRule ^ /motor_drive_room_settings [R=301,L]

RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/pages/firepump/motor_drive_status\.php [NC]
RewriteRule ^ /motor_drive_room_dashboard [R=301,L]

RewriteCond %{THE_REQUEST} ^[A-Z]{3,}\s/pages/firepump/station_report\.php [NC]
RewriteRule ^ /motor_drive_room_report [R=301,L]